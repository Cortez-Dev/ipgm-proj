<!DOCTYPE html>
<html>

<head>
	<title>Filter Gallery</title>
	<!--bootstrap-->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<!--font-->
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap" rel="stylesheet">
	<!--fontawseom-->
	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	<script src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script src="http://ajax.microsoft.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js"></script>
	<!-- Icons -->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="stylesheet" href="/css/article.css">
</head>

<body>
	<!-- Navbar Start -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<a class="navbar-brand" href="#">IPGM</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNavDropdown">
			<ul class="navbar-nav">
				<li class="nav-item active">
					<a class="nav-link" href="/dashboard">Home <span class="sr-only">(current)</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#">Readmore</a>
				</li>
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Profile
					</a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
						<a class="dropdown-item" href="#">Username</a>
						<a class="dropdown-item" href="#">member status</a>
						<a class="dropdown-item" href="#">Subscribe</a>
						<hr />
						<a class="dropdown-item" href="/">Logout</a>
					</div>
				</li>
			</ul>
		</div>
	</nav>
	<!-- Navbar End -->
	<div id="author-info">
		<h4 style="padding : 10px"><strong>firstName lastName</strong></h4>
		<hr style="width: 100px;margin-top: 0px;margin-bottom: 5px;background-image: linear-gradient(to right, #52057b, #ea2c62); height:1px;">
		<button id="follow">Follow</button>
	</div>

	<div id="like-comment">
		<button id="like" onClick="like();"><i class="md-48 material-icons">thumb_up</i></button>
		<a href="#comment-section"><button id="comment-button"><i class="material-icons edit-icon">comment</i></button></button></a>
		<button id="flag" onClick="flag();"><i class="md-48 material-icons">flag</i></button>
	</div>

	<div class="content">
		<span id="article-info">
			<h1 id="article-title">Welcome to this project.</h1>
			<p id="article-desc"> This is some description about the article.This is dummy article.Some more text.his is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy
				article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy
				article.Some more texthis is some description </p>
		</span>
		<div id="main_article">
			<img src="https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885_1280.jpg" alt="Tree image">
			about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more textThis is some description about the
			article.This is dummy article.Some more text.his is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more textThis is some description about the
			article.This is dummy article.Some more text.his is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more textThis is some description about the
			article.This is dummy article.Some more text.his is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more textThis is some description about the
			article.This is dummy article.Some more text.his is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more textThis is some description about the
			article.This is dummy article.Some more text.his is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more textThis is some description about the
			article.This is dummy article.Some more text.his is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more textThis is some description about the
			article.This is dummy article.Some more text.his is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more textThis is some description about the
			article.This is dummy article.Some more text.his is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more textThis is some description about the
			article.This is dummy article.Some more text.his is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more textThis is some description about the
			article.This is dummy article.Some more text.his is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the
			article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more text
		</div>
	</div>
	<hr style="width: 1224px;margin-top: 10px;margin-bottom: 5px;background-image: linear-gradient(to right, #dd4747, #ffbf00); height:3px;">
	<div id="comment-section">
		<div id="comment-block">
			<h5>Commenter Name</h5>
			<p id="comment">.Some more textThis is some description about the article.This is dummy article.Some more text.his is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy
				article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy
				article.Some more texthis is some de</p>
			<hr id="comment-rule">
		</div>
		<div id="comment-block">
			<h5>Commenter Name</h5>
			<p id="comment">.Some more textThis is some description ption about the article.This is dummy article.Some more texthis is some de</p>
			<hr id="comment-rule">
		</div>
		<div id="comment-block">
			<h5>Commenter Name</h5>
			<p id="comment">.Some more textThis is some description about the article.This is dummy article.Some more text.his is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy
				article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy article.Some more texthis is some description about the article.This is dummy
				article.Some more texthis is some de</p>
			<hr id="comment-rule">
		</div>
	</div>
	<div id="comment-form">
		<!-- Comment -->
		<div class="form-group">
			<label for="replyFormComment">Your comment</label>
			<textarea class="form-control" id="FormComment" rows="5"></textarea>
		</div>

		<div class="text-center mt-4">
			<button class="btn btn-info btn-md" onclick="addComment();">Post</button>
			<div class="loader"></div>
		</div>
	</div>
	<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/toxicity"></script>
	<script type="text/javascript">
	$('.loader').toggle();
		function like() {
			var response = $.post("/like/3", function(data) {
				console.log(data);
			});
		}
		var toxicity_flag = true;

		function addComment() {
			$('.loader').toggle();
			var text = $('#FormComment').val();
			const threshold = 0.7;
			toxicity.load(threshold).then(model => {
				const sentences = [text];
				model.classify(sentences).then(predictions => {
					for (i = 0; i < 7; i++) {
						var prob = predictions[i].results[0].probabilities[1];
						if (prob > threshold) {
							alert(predictions[i].label + " was found please remove it!");
							toxicity_flag = false;
						}
					}
					$('.loader').toggle();
					if (toxicity_flag) {
						var name = 'meet shah';
						var comment_string = '<div id="comment-block"><h5>' + name + '</h5><p id = "comment">' + text + '</p><hr id = "comment-rule"></div>';
						$('#comment-section').append(comment_string);
						// SEND POST REQUEST HERE
					}
					$('#FormComment').val('');
					toxicity_flag = true;
				})
			});
		}
	</script>
</body>

</html>
